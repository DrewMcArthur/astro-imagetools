---
import ConfigOptions from "./ConfigOptions/ConfigOptions";

const {
  Src,
  Alt,
  Tag,
  Content,
  Sizes,
  Preload,
  Loading,
  Decoding,
  Layout,
  Placeholder,
  BreakPoints,
  ObjectFit,
  ObjectPosition,
  BackgroundSize,
  BackgroundPosition,
  Format,
  FallbackFormat,
  IncludeSourceFormat,
  FormatOptions,
  FadeInTransition,
  ArtDirectives,
  Flip,
  Flop,
  Invert,
  Flatten,
  Normalize,
  Grayscale,
  Hue,
  Saturation,
  Brightness,
  Width,
  Height,
  Aspect,
  Background,
  Tint,
  Blur,
  Median,
  Rotate,
  Quality,
  Fit,
  Kernel,
  Position,
} = ConfigOptions

const { props } = Astro;

const { api, component } = props;

const isBackground =
  component?.startsWith("Background") || api?.startsWith("renderBackground");

const isBackgroundImage =
  component === "BackgroundImage" || api === "renderBackgroundImage";

const isNotImg = component !== "Img" && api !== "renderImg";
---

<Src {...props} />
<Alt {...props} />
{isBackground && <Tag {...props} />}
{api && isBackground && <Content {...props} />}
{!isBackgroundImage && <Sizes {...props} />}
<Preload {...props} />
{!isBackgroundImage && <Loading {...props} />}
{!isBackgroundImage && <Decoding {...props} />}
{!isBackground && <Layout {...props} />}
<Placeholder {...props} />
<BreakPoints {...props} />
{!isBackgroundImage && <ObjectFit {...props} />}
{!isBackgroundImage && <ObjectPosition {...props} />}
{isBackgroundImage && <BackgroundSize {...props} />}
{isBackgroundImage && <BackgroundPosition {...props} />}
<Format {...props} />
{isNotImg && <FallbackFormat {...props} />}
{isNotImg && <IncludeSourceFormat {...props} />}
<FormatOptions {...props} />
{isNotImg && !isBackgroundImage && <FadeInTransition {...props} />}
{isNotImg && <ArtDirectives {...props} />}
<Flip {...props} />
<Flop {...props} />
<Invert {...props} />
<Flatten {...props} />
<Normalize {...props} />
<Grayscale {...props} />
<Hue {...props} />
<Saturation {...props} />
<Brightness {...props} />
<Width {...props} />
<Height {...props} />
<Aspect {...props} />
<Background {...props} />
<Tint {...props} />
<Blur {...props} />
<Median {...props} />
<Rotate {...props} />
<Quality {...props} />
<Fit {...props} />
<Kernel {...props} />
<Position {...props} />
